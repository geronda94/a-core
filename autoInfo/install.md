# Шаг 1: Подготовка на телефоне (Termux)

### Установка
Скачай Termux (желательно с F-Droid).

### Настройка окружения
Открой Termux и введи:

```bash
pkg update && pkg upgrade -y
pkg install python openssh android-tools -y
```

### Логин и Пароль
- Установи пароль: `passwd` (введи дважды, символы не отображаются).
- Узнай логин: `whoami` (запомни его, например u0_a236).

### Запуск SSH-сервера

```bash
sshd
```

### IP-адрес
whoami - это твой логин, запомни его.
ifconfig - Ищи блок wlan0 -> inet. Это твой IP в сети (например, 192.168.1.50 или 192.168.43.1).
ssh whoami_login@IP_АДРЕС -p 8022 
---

# Шаг 2: Настройка Android (MIUI/HyperOS)

Зайди в Настройки разработчика и включи:

- Отладка по USB.
- Отладка по USB (Настройки безопасности) — без этого не сможешь программно нажимать кнопки!
- Беспроводная отладка (нажми на сам пункт, чтобы зайти внутрь).

> **Важно**: Включи Hotspot на телефоне и подключи ПК к нему, чтобы они были в одной «трубе».

---

# Шаг 3: Сопряжение и Подключение (WSL Терминал)

### 1. Сопряжение (Pairing) — делается ОДИН РАЗ
На телефоне нажми "Сопряжение через код". Ты увидишь IP, ПОРТ_СОПРЯЖЕНИЯ и 6-значный КОД. В WSL введи:

```bash
adb pair [IP_ТЕЛЕФОНА]:[ПОРТ_СОПРЯЖЕНИЯ] [КОД_ИЗ_6_ЦИФР]
```

Пример:

```bash
adb pair 192.168.43.1:35221 332573
```

### 2. Подключение (Connect)
После сопряжения окно закроется. Посмотри на главный экран "Беспроводной отладки" — там будет другой порт (порт подключения). В WSL введи:

```bash
adb connect [IP_ТЕЛЕФОНА]:[ПОРТ_ПОДКЛЮЧЕНИЯ]
```

Пример:

```bash
adb connect 192.168.43.1:45678
```

### 3. Проверка подключения ADB
Введи:

```bash
adb devices
```

Результат: Ты должен увидеть `192.168.43.1:45678 device`.

---

# Шаг 4: Вход в консоль Termux через SSH

Теперь, когда ADB видит телефон, заходим в его терминал напрямую по IP (без форвардинга):

```bash
ssh [ТВОЙ_ЛОГИН]@[IP_ТЕЛЕФОНА] -p 8022
```

Пример:

```bash
ssh u0_a236@192.168.43.1 -p 8022
```

Если спросит `Are you sure... (yes/no)?`, пиши `yes`.

Введи пароль, который создавал в `passwd`.

---

# Шаг 5: Проверка полной работоспособности

Когда ты зашел по SSH, проверь, можешь ли ты управлять телефоном. Введи по очереди:

### Проверка клика (экран телефона должен быть включен):

```bash
adb shell input tap 500 500
```

### Проверка чтения экрана:

```bash
adb shell uiautomator dump /sdcard/view.xml && cat /sdcard/view.xml
```

Если посыпался длинный XML-код — поздравляю, ты полностью контролируешь телефон!

---

# ЧЕК-ЛИСТ ПОДКЛЮЧЕНИЯ (TERMUX + WSL)

### 1. Подготовка (в Termux)
- `pkg install openssh android-tools -y`
- `passwd` (задать пароль)
- `whoami` (узнать логин)
- `sshd` (запустить сервер)
- `ifconfig` (узнать IP, например 192.168.43.1)

### 2. Сопряжение (в WSL) - Один раз
- `adb pair [IP]:[ПОРТ_СОПРЯЖЕНИЯ] [КОД]`

### 3. Подключение (в WSL) - Каждый раз
- `adb connect [IP]:[ПОРТ_ПОДКЛЮЧЕНИЯ]`
- `adb devices` (проверка)

### 4. Вход (в WSL)
- `ssh [ЛОГИН]@[IP] -p 8022`

### 5. Установка Python-окружения
- `pkg install python lxml -y`
- `pip install requests beautifulsoup4`




1. Подготовка
Убедись, что установлен пакет API (нужен для шторки и блокировки сна):
pkg install termux-api
chmod +x guardian.sh

chmod +x guardian.sh
3. Как запустить в фоне (Легкий способ)
Теперь, чтобы освободить терминал и оставить скрипт жить вечно:

Команда запуска:
nohup ./guardian.sh > /dev/null 2>&1 &
держит процесс при закрытии терминала.

4. Как остановить?
pkill -f guardian.sh
